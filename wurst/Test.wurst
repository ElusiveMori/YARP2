package Test

let gc = InitGameCache("t.w3v")

function sync(player sender)
	//TriggerSyncStart()
	if localPlayer == sender
		print("syncing...")
		for i = 10000 to 10005
			gc.saveString("a", i.toString(), i.toString())
			gc.syncString("a", i.toString())
		print("finished syncing...")
	TriggerSyncReady()
	print("received all syncs")
	for i = 10000 to 10005
		print(i.toString() + " - '" + gc.loadString("a", i.toString()) + "'")
init
	CreateTrigger()
	..registerPlayerEvent(players[0], EVENT_PLAYER_ARROW_UP_DOWN)
	..registerPlayerEvent(players[1], EVENT_PLAYER_ARROW_UP_DOWN)
	..addAction(() -> begin
		sync(GetTriggerPlayer())
	end)